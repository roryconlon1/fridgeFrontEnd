{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/greigkerr/Documents/codeclan_work/FridgeProject/ReactFrontEnd/fridgeFrontEnd/src/components/recipes/RecipeDetail.js\";\n\nimport React, { useState } from \"react\";\nimport Recipe from \"./Recipe\";\nimport Request from \"../../helpers/request\";\nimport Food from \"../foods/Food\";\n\nvar RecipeDetail = function RecipeDetail(_ref) {\n  var recipe = _ref.recipe,\n      foods = _ref.foods;\n\n  if (!recipe) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 9,\n        columnNumber: 16\n      }\n    }, \"Loading . . .\");\n  } // const [stateFood, setStateFood] = useState({\n  //     id: recipe.id,\n  //     name: recipe.name,\n  //     recipeType: recipe.recipeType,\n  //     cookTime: recipe.cookTime,\n  //     method: recipe.method,\n  //     Ingredients: [recipe.foods]\n  // })\n  // const updateIngredient = (event) => {\n  //     let propertyname = event.target.name;\n  //     let copiedFood = {...stateFood};\n  //     Ingredients.push(event.target.value)\n  //     copiedFood[propertyname] = event.target.value;\n  //     setStateFood(copiedFood)\n  // }\n\n\n  var allFoods = recipe.foods.map(function (food, index) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 16\n      }\n    }, food.name);\n  });\n\n  var handleDelete = function handleDelete(id) {\n    var request = new Request();\n    var url = \"/api/recipes/\" + id;\n    request.delete(url).then(function () {\n      window.location = \"/recipes\";\n    });\n  };\n\n  var handleNewIngredient = function handleNewIngredient(foodId) {\n    var request = new Request();\n    request.put(\"/api/recipes/\".concat(recipe.id, \"/addIngredient/\").concat(foodId)).then(function () {\n      window.location = \"/recipes/\".concat(recipe.id);\n    });\n  };\n\n  var onDelete = function onDelete() {\n    handleDelete(recipe.id);\n  };\n\n  var onPost = function onPost(event) {\n    event.preventDefault();\n    console.log(event.target);\n    handleNewIngredient(event.target.food.value);\n  };\n\n  var allIngredients = foods.map(function (food, index) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: food.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 16\n      }\n    }, food.name);\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"foodItem\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, recipe.name), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, recipe.cookTime), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, recipe.method), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, recipe.recipeType), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, \"Ingredients :\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, allFoods)), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: onDelete,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"Delete Recipe\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onPost,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"food\",\n    defaultValue: \"select-food\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    value: \"select-food\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, \"Select a new Ingredient\"), allIngredients), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, \"Add Ingredient\")));\n};\n\nexport default RecipeDetail;","map":{"version":3,"names":["React","useState","Recipe","Request","Food","RecipeDetail","recipe","foods","allFoods","map","food","index","name","handleDelete","id","request","url","delete","then","window","location","handleNewIngredient","foodId","put","onDelete","onPost","event","preventDefault","console","log","target","value","allIngredients","cookTime","method","recipeType"],"sources":["/Users/greigkerr/Documents/codeclan_work/FridgeProject/ReactFrontEnd/fridgeFrontEnd/src/components/recipes/RecipeDetail.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Recipe from \"./Recipe\";\nimport Request from \"../../helpers/request\";\nimport Food from \"../foods/Food\";\n\nconst RecipeDetail = ({recipe, foods}) => {\n\n    if(!recipe){\n        return <p>Loading . . .</p>\n    }\n\n    // const [stateFood, setStateFood] = useState({\n    //     id: recipe.id,\n    //     name: recipe.name,\n    //     recipeType: recipe.recipeType,\n    //     cookTime: recipe.cookTime,\n    //     method: recipe.method,\n    //     Ingredients: [recipe.foods]\n    // })\n\n    // const updateIngredient = (event) => {\n    //     let propertyname = event.target.name;\n    //     let copiedFood = {...stateFood};\n    //     Ingredients.push(event.target.value)\n    //     copiedFood[propertyname] = event.target.value;\n    //     setStateFood(copiedFood)\n    // }\n\n    const allFoods = recipe.foods.map((food, index) => {\n        return <div key={index}>\n            {food.name}\n        </div>\n    })\n\n    const handleDelete = (id) => {\n        const request = new Request();\n        const url = \"/api/recipes/\" + id;\n        request.delete(url)\n        .then(() => {\n            window.location = \"/recipes\"\n        })\n    }\n\n    const handleNewIngredient = (foodId) => {\n        const request = new Request();\n        request.put(`/api/recipes/${recipe.id}/addIngredient/${foodId}`)\n        .then (() => {\n            window.location = `/recipes/${recipe.id}`\n        })\n    }\n\n    const onDelete = () => {\n        handleDelete(recipe.id)\n    }\n\n    const onPost = (event) => {\n        event.preventDefault();\n        console.log(event.target);\n        handleNewIngredient(event.target.food.value)\n    }\n\n    const allIngredients = foods.map((food, index) => {\n        return <option key={index} value={food.id}>{food.name}</option>\n    })\n    \n    \n\n\n    return(\n        <div className=\"foodItem\">\n            <h1>{recipe.name}</h1>\n            <h2>{recipe.cookTime}</h2>\n            <h3>{recipe.method}</h3>\n            <h3>{recipe.recipeType}</h3>\n            <h2>Ingredients :</h2>\n            <h3><i>{allFoods}</i></h3>\n            <button onClick={(onDelete)}>Delete Recipe</button>\n            <form onSubmit={onPost}>\n                <select name=\"food\"  defaultValue=\"select-food\">\n                    <option disabled value=\"select-food\">\n                        Select a new Ingredient\n                    </option>\n                    {allIngredients}\n                </select>\n                <button type=\"submit\">Add Ingredient</button>\n            </form>\n            \n        </div>\n    )\n}\n\nexport default RecipeDetail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}