{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/greigkerr/Documents/codeclan_work/FridgeProject/ReactFrontEnd/fridgeFrontEnd/src/components/recipes/RecipeDetail.js\";\n\nimport React, { useState } from \"react\";\nimport Recipe from \"./Recipe\";\nimport Request from \"../../helpers/request\";\nimport Food from \"../foods/Food\";\n\nvar RecipeDetail = function RecipeDetail(_ref) {\n  var recipe = _ref.recipe,\n      foods = _ref.foods;\n\n  if (!recipe) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 9,\n        columnNumber: 16\n      }\n    }, \"Loading . . .\");\n  }\n\n  var allFoods = recipe.foods.map(function (food, index) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 16\n      }\n    }, food.name);\n  });\n\n  var handleDelete = function handleDelete(id) {\n    var request = new Request();\n    var url = \"/api/recipes/\" + id;\n    request.delete(url).then(function () {\n      window.location = \"/recipes\";\n    });\n  };\n\n  var handleNewIngredient = function handleNewIngredient(foodId) {\n    var request = new Request();\n    request.put(\"/api/recipes/\".concat(recipe.id, \"/addIngredient/\").concat(foodId)).then(function () {\n      window.location = \"/recipes/\".concat(recipe.id);\n    });\n  };\n\n  var onDelete = function onDelete() {\n    handleDelete(recipe.id);\n  };\n\n  var onPost = function onPost(event) {\n    event.preventDefault();\n    console.log(event.target);\n    handleNewIngredient(event.target.food.value);\n  };\n\n  var allIngredients = foods.map(function (food, index) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: food.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 16\n      }\n    }, food.name);\n  });\n  var allCalories = recipe.foods.reduce(function (runningTotal, food) {\n    return runningTotal += food.calories;\n  }, 0);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"foodItem\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, recipe.name), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, \"Total Calories: \"), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, allCalories), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, recipe.method), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, recipe.recipeType), /*#__PURE__*/React.createElement(\"img\", {\n    src: recipe.image,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"Ingredients :\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, allFoods)), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: onDelete,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"Delete Recipe\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onPost,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"food\",\n    defaultValue: \"select-food\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    value: \"select-food\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }, \"Select a new Ingredient\"), allIngredients), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, \"Add Ingredient\")));\n};\n\nexport default RecipeDetail;","map":{"version":3,"names":["React","useState","Recipe","Request","Food","RecipeDetail","recipe","foods","allFoods","map","food","index","name","handleDelete","id","request","url","delete","then","window","location","handleNewIngredient","foodId","put","onDelete","onPost","event","preventDefault","console","log","target","value","allIngredients","allCalories","reduce","runningTotal","calories","method","recipeType","image"],"sources":["/Users/greigkerr/Documents/codeclan_work/FridgeProject/ReactFrontEnd/fridgeFrontEnd/src/components/recipes/RecipeDetail.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Recipe from \"./Recipe\";\nimport Request from \"../../helpers/request\";\nimport Food from \"../foods/Food\";\n\nconst RecipeDetail = ({recipe, foods}) => {\n\n    if(!recipe){\n        return <p>Loading . . .</p>\n    }\n\n    const allFoods = recipe.foods.map((food, index) => {\n        return <div key={index}>\n            {food.name}\n        </div>\n    })\n\n    const handleDelete = (id) => {\n        const request = new Request();\n        const url = \"/api/recipes/\" + id;\n        request.delete(url)\n        .then(() => {\n            window.location = \"/recipes\"\n        })\n    }\n\n    const handleNewIngredient = (foodId) => {\n        const request = new Request();\n        request.put(`/api/recipes/${recipe.id}/addIngredient/${foodId}`)\n        .then (() => {\n            window.location = `/recipes/${recipe.id}`\n        })\n    }\n\n    const onDelete = () => {\n        handleDelete(recipe.id)\n    }\n\n    const onPost = (event) => {\n        event.preventDefault();\n        console.log(event.target);\n        handleNewIngredient(event.target.food.value)\n    }\n\n    const allIngredients = foods.map((food, index) => {\n        return <option key={index} value={food.id}>{food.name}</option>\n    })\n\n    const allCalories = recipe.foods.reduce((runningTotal, food) => {\n        return(\n            runningTotal += food.calories\n        )\n    }, 0)\n    \n    \n\n\n    return(\n        <div className=\"foodItem\">\n            <h1>{recipe.name}</h1>\n            {/* <h2>{recipe.cookTime}</h2> */}\n            <h2>Total Calories: </h2>\n            <h2>{allCalories}</h2>\n            <h3>{recipe.method}</h3>\n            <h3>{recipe.recipeType}</h3>\n            <img src={recipe.image}></img>\n            <h2>Ingredients :</h2>\n            <h3><i>{allFoods}</i></h3>\n            <button onClick={(onDelete)}>Delete Recipe</button>\n            <form onSubmit={onPost}>\n                <select name=\"food\"  defaultValue=\"select-food\">\n                    <option disabled value=\"select-food\">\n                        Select a new Ingredient\n                    </option>\n                    {allIngredients}\n                </select>\n                <button type=\"submit\">Add Ingredient</button>\n            </form>\n            \n        </div>\n    )\n}\n\nexport default RecipeDetail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}