{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/greigkerr/Documents/codeclan_work/FridgeProject/ReactFrontEnd/fridgeFrontEnd/src/components/recipes/RecipeDetail.js\";\n\nimport React, { useState } from \"react\";\nimport Recipe from \"./Recipe\";\nimport Request from \"../../helpers/request\";\nimport Food from \"../foods/Food\";\nimport { useNavigate } from \"react-router-dom\";\n\nvar RecipeDetail = function RecipeDetail(_ref) {\n  var recipe = _ref.recipe,\n      foods = _ref.foods,\n      onStateChange = _ref.onStateChange;\n  var navigate = useNavigate();\n\n  if (!recipe) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 16\n      }\n    }, \"Loading . . .\");\n  }\n\n  var allFoods = recipe.foods.map(function (food, index) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 16\n      }\n    }, food.name);\n  });\n\n  var handleDelete = function handleDelete(id) {\n    var request = new Request();\n    var url = \"/api/recipes/\" + id;\n    request.delete(url).then(function () {\n      onStateChange();\n      navigate(\"/recipes\");\n    });\n  };\n\n  var handleNewIngredient = function handleNewIngredient(foodId) {\n    var request = new Request();\n    request.put(\"/api/recipes/\".concat(recipe.id, \"/addIngredient/\").concat(foodId)).then(function () {\n      getRe;\n      navigate(\"/recipes/\".concat(recipe.id));\n    });\n  };\n\n  var onDelete = function onDelete() {\n    handleDelete(recipe.id);\n  };\n\n  var onPost = function onPost(event) {\n    event.preventDefault();\n    console.log(event.target);\n    handleNewIngredient(event.target.food.value);\n  };\n\n  var allIngredients = foods.map(function (food, index) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: food.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 16\n      }\n    }, food.name);\n  });\n  var allCalories = recipe.foods.reduce(function (runningTotal, food) {\n    return runningTotal += food.calories;\n  }, 0);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"individual\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, recipe.name), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Total Calories: \"), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, allCalories), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, recipe.method), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, recipe.recipeType), /*#__PURE__*/React.createElement(\"img\", {\n    src: recipe.image,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, \"Ingredients :\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, allFoods)), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: onDelete,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, \"Delete Recipe\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onPost,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"food\",\n    defaultValue: \"select-food\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    value: \"select-food\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, \"Select a new Ingredient\"), allIngredients), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, \"Add Ingredient\")));\n};\n\nexport default RecipeDetail;","map":{"version":3,"names":["React","useState","Recipe","Request","Food","useNavigate","RecipeDetail","recipe","foods","onStateChange","navigate","allFoods","map","food","index","name","handleDelete","id","request","url","delete","then","handleNewIngredient","foodId","put","getRe","onDelete","onPost","event","preventDefault","console","log","target","value","allIngredients","allCalories","reduce","runningTotal","calories","method","recipeType","image"],"sources":["/Users/greigkerr/Documents/codeclan_work/FridgeProject/ReactFrontEnd/fridgeFrontEnd/src/components/recipes/RecipeDetail.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Recipe from \"./Recipe\";\nimport Request from \"../../helpers/request\";\nimport Food from \"../foods/Food\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst RecipeDetail = ({recipe, foods, onStateChange}) => {\n\n    const navigate = useNavigate();\n\n    if(!recipe){\n        return <p>Loading . . .</p>\n    }\n\n    const allFoods = recipe.foods.map((food, index) => {\n        return <div key={index}>\n            {food.name}\n        </div>\n    })\n\n    const handleDelete = (id) => {\n        const request = new Request();\n        const url = \"/api/recipes/\" + id;\n        request.delete(url)\n        .then(() => {\n            onStateChange()\n            navigate(\"/recipes\")\n        })\n    }\n\n    const handleNewIngredient = (foodId) => {\n        const request = new Request();\n        request.put(`/api/recipes/${recipe.id}/addIngredient/${foodId}`)\n        .then (() => {\n            getRe\n            navigate(`/recipes/${recipe.id}`)\n            \n        })\n    }\n\n    const onDelete = () => {\n        handleDelete(recipe.id)\n    }\n\n    const onPost = (event) => {\n        event.preventDefault();\n        console.log(event.target);\n        handleNewIngredient(event.target.food.value)\n    }\n\n    const allIngredients = foods.map((food, index) => {\n        return <option key={index} value={food.id}>{food.name}</option>\n    })\n\n    const allCalories = recipe.foods.reduce((runningTotal, food) => {\n        return(\n            runningTotal += food.calories\n        )\n    }, 0)\n    \n    \n\n\n    return(\n        <div className=\"individual\">\n            <h1>{recipe.name}</h1>\n            {/* <h2>{recipe.cookTime}</h2> */}\n            <h2>Total Calories: </h2>\n            <h2>{allCalories}</h2>\n            <h3>{recipe.method}</h3>\n            <h3>{recipe.recipeType}</h3>\n            <img src={recipe.image}></img>\n            <h2>Ingredients :</h2>\n            <h3><i>{allFoods}</i></h3>\n            <button onClick={(onDelete)}>Delete Recipe</button>\n            <form onSubmit={onPost}>\n                <select name=\"food\"  defaultValue=\"select-food\">\n                    <option disabled value=\"select-food\">\n                        Select a new Ingredient\n                    </option>\n                    {allIngredients}\n                </select>\n                <button type=\"submit\">Add Ingredient</button>\n            </form>\n            \n        </div>\n    )\n}\n\nexport default RecipeDetail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}