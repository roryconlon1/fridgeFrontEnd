{"ast":null,"code":"var _jsxFileName = \"/Users/greigkerr/Documents/codeclan_work/FridgeProject/ReactFrontEnd/fridgeFrontEnd/src/components/recipes/RecipeDetail.js\",\n  _this = this;\nimport React, { useState } from \"react\";\nimport Recipe from \"./Recipe\";\nimport Request from \"../../helpers/request\";\nimport Food from \"../foods/Food\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar RecipeDetail = function RecipeDetail(_ref) {\n  var recipe = _ref.recipe,\n    foods = _ref.foods;\n  if (!recipe) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading . . .\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 16\n    }, _this);\n  }\n  var allFoods = recipe.foods.map(function (food, index) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: food.name\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 16\n    }, _this);\n  });\n  var handleDelete = function handleDelete(id) {\n    var request = new Request();\n    var url = \"/api/recipes/\" + id;\n    request.delete(url).then(function () {\n      window.location = \"/recipes\";\n    });\n  };\n  var handleNewIngredient = function handleNewIngredient(foodId) {\n    var request = new Request();\n    request.put(\"/api/recipes/\".concat(recipe.id, \"/addIngredient/\").concat(foodId)).then(function () {\n      window.location = \"/recipes/\".concat(recipe.id);\n    });\n  };\n  var onDelete = function onDelete() {\n    handleDelete(recipe.id);\n  };\n  var onPost = function onPost(event) {\n    event.preventDefault();\n    console.log(event.target);\n    handleNewIngredient(event.target.food.value);\n  };\n  var allIngredients = foods.map(function (food, index) {\n    return /*#__PURE__*/_jsxDEV(\"option\", {\n      value: food.id,\n      children: food.name\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 16\n    }, _this);\n  });\n  var allCalories = recipe.foods.reduce(function (runningTotal, food) {\n    return runningTotal += food.calories;\n  }, 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"foodItem\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: recipe.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Total Calories: \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: allCalories\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: recipe.method\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: recipe.recipeType\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: recipe.image\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Ingredients :\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        children: allFoods\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onDelete,\n      children: \"Delete Recipe\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onPost,\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"food\",\n        defaultValue: \"select-food\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          disabled: true,\n          value: \"select-food\",\n          children: \"Select a new Ingredient\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, _this), allIngredients]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Add Ingredient\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, _this);\n};\n_c = RecipeDetail;\nexport default RecipeDetail;\nvar _c;\n$RefreshReg$(_c, \"RecipeDetail\");","map":{"version":3,"names":["React","useState","Recipe","Request","Food","RecipeDetail","recipe","foods","allFoods","map","food","index","name","handleDelete","id","request","url","delete","then","window","location","handleNewIngredient","foodId","put","onDelete","onPost","event","preventDefault","console","log","target","value","allIngredients","allCalories","reduce","runningTotal","calories","method","recipeType","image"],"sources":["/Users/greigkerr/Documents/codeclan_work/FridgeProject/ReactFrontEnd/fridgeFrontEnd/src/components/recipes/RecipeDetail.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Recipe from \"./Recipe\";\nimport Request from \"../../helpers/request\";\nimport Food from \"../foods/Food\";\n\nconst RecipeDetail = ({recipe, foods}) => {\n\n    if(!recipe){\n        return <p>Loading . . .</p>\n    }\n\n    const allFoods = recipe.foods.map((food, index) => {\n        return <div key={index}>\n            {food.name}\n        </div>\n    })\n\n    const handleDelete = (id) => {\n        const request = new Request();\n        const url = \"/api/recipes/\" + id;\n        request.delete(url)\n        .then(() => {\n            window.location = \"/recipes\"\n        })\n    }\n\n    const handleNewIngredient = (foodId) => {\n        const request = new Request();\n        request.put(`/api/recipes/${recipe.id}/addIngredient/${foodId}`)\n        .then (() => {\n            window.location = `/recipes/${recipe.id}`\n        })\n    }\n\n    const onDelete = () => {\n        handleDelete(recipe.id)\n    }\n\n    const onPost = (event) => {\n        event.preventDefault();\n        console.log(event.target);\n        handleNewIngredient(event.target.food.value)\n    }\n\n    const allIngredients = foods.map((food, index) => {\n        return <option key={index} value={food.id}>{food.name}</option>\n    })\n\n    const allCalories = recipe.foods.reduce((runningTotal, food) => {\n        return(\n            runningTotal += food.calories\n        )\n    }, 0)\n    \n    \n\n\n    return(\n        <div className=\"foodItem\">\n            <h1>{recipe.name}</h1>\n            {/* <h2>{recipe.cookTime}</h2> */}\n            <h2>Total Calories: </h2>\n            <h2>{allCalories}</h2>\n            <h3>{recipe.method}</h3>\n            <h3>{recipe.recipeType}</h3>\n            <img src={recipe.image}></img>\n            <h2>Ingredients :</h2>\n            <h3><i>{allFoods}</i></h3>\n            <button onClick={(onDelete)}>Delete Recipe</button>\n            <form onSubmit={onPost}>\n                <select name=\"food\"  defaultValue=\"select-food\">\n                    <option disabled value=\"select-food\">\n                        Select a new Ingredient\n                    </option>\n                    {allIngredients}\n                </select>\n                <button type=\"submit\">Add Ingredient</button>\n            </form>\n            \n        </div>\n    )\n}\n\nexport default RecipeDetail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}