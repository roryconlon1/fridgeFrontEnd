{"ast":null,"code":"import _toConsumableArray from \"/Users/greigkerr/Documents/codeclan_work/FridgeProject/ReactFrontEnd/fridgeFrontEnd/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/greigkerr/Documents/codeclan_work/FridgeProject/ReactFrontEnd/fridgeFrontEnd/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/greigkerr/Documents/codeclan_work/FridgeProject/ReactFrontEnd/fridgeFrontEnd/src/components/foods/SelectedFood.js\";\n\nimport React, { memo, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nvar SelectedFood = function SelectedFood(_ref) {\n  var select = _ref.select,\n      recipes = _ref.recipes,\n      resetSelected = _ref.resetSelected;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      allRecipesForAllIngredients = _useState2[0],\n      setAllRecipesForAllIngredients = _useState2[1];\n\n  var showSelected = select.map(function (item, index) {\n    var nameOfFood = item.name.replace(/ *\\([^)]*\\) */g, \"\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 16\n      }\n    }, nameOfFood);\n  });\n  var allRecipeId = select.map(function (food) {\n    return food.recipes.map(function (recipe) {\n      return recipe.id;\n    });\n  });\n  var commonRecipes = allRecipeId.reduce(function (a, b) {\n    return b.filter(Set.prototype.has, new Set(a));\n  }, allRecipeId[0]);\n  var recipesId = recipes.map(function (recipe) {\n    if (commonRecipes && commonRecipes.includes(recipe.id)) {\n      return /*#__PURE__*/React.createElement(Link, {\n        to: \"/recipes/\" + recipe.id,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 20\n        }\n      }, recipe.name);\n    }\n  });\n  var allRecipes = recipesId.map(function (recipe, index) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 13\n      }\n    }, recipe);\n  });\n\n  var resetClick = function resetClick() {\n    resetSelected();\n    setAllRecipesForAllIngredients([]);\n  };\n\n  var allRecipesForSelectedIngredients = select.map(function (food) {\n    return food.recipes.map(function (recipe) {\n      var alreadyExists = allRecipesForAllIngredients.some(function (value) {\n        return value.id == recipe.id;\n      });\n\n      if (!alreadyExists) {\n        var copyAll = [].concat(_toConsumableArray(allRecipesForAllIngredients), [recipe]);\n        setAllRecipesForAllIngredients(copyAll);\n      }\n    });\n  });\n  var everyRecipeElemnt = allRecipesForAllIngredients.map(function (recipe, index) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/recipes/\" + recipe.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, recipe.name));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"components\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"recipe_lists\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"individual_recipe_lists\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"recipeListColumn\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, \"Ingredient:\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }), showSelected), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"individual_recipe_lists\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"recipeListColumn\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }, \"All Recipes:\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }), everyRecipeElemnt), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"individual_recipe_lists\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"recipeListColumn\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, \"Recipes containing all selected Ingredients:\"), allRecipes)), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: resetClick,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, \"RESET FILTER\"));\n};\n\nexport default SelectedFood;","map":{"version":3,"names":["React","memo","useState","Link","SelectedFood","select","recipes","resetSelected","allRecipesForAllIngredients","setAllRecipesForAllIngredients","showSelected","map","item","index","nameOfFood","name","replace","allRecipeId","food","recipe","id","commonRecipes","reduce","a","b","filter","Set","prototype","has","recipesId","includes","allRecipes","resetClick","allRecipesForSelectedIngredients","alreadyExists","some","value","copyAll","everyRecipeElemnt"],"sources":["/Users/greigkerr/Documents/codeclan_work/FridgeProject/ReactFrontEnd/fridgeFrontEnd/src/components/foods/SelectedFood.js"],"sourcesContent":["import React, { memo, useState } from 'react'\nimport { Link } from 'react-router-dom'\n\nconst SelectedFood = (({ select, recipes, resetSelected }) => {\n\n    const [allRecipesForAllIngredients, setAllRecipesForAllIngredients] = useState([])\n\n\n    const showSelected = select.map((item, index) => {\n        const nameOfFood = item.name.replace(/ *\\([^)]*\\) */g, \"\");\n        return <div key={index}>{nameOfFood}</div>\n    })\n\n    const allRecipeId = select.map((food) => {\n        return food.recipes.map((recipe) => {\n            return recipe.id\n        })\n    })\n\n    const commonRecipes = allRecipeId.reduce((a, b) => {\n        return b.filter(Set.prototype.has, new Set(a));\n    }, allRecipeId[0]);\n\n    const recipesId = recipes.map((recipe) => {\n        if (commonRecipes && commonRecipes.includes(recipe.id)) {\n            return <Link to={\"/recipes/\" + recipe.id}>{recipe.name}</Link>\n        }\n    })\n\n    const allRecipes = recipesId.map((recipe, index) => {\n        return (\n            <li>\n                {recipe}\n            </li>\n        )\n    })\n\n    const resetClick = () => {\n        resetSelected()\n        setAllRecipesForAllIngredients([])\n    }\n\n\n\n    const allRecipesForSelectedIngredients = select.map((food) => {\n        return food.recipes.map((recipe) => {\n            const alreadyExists = allRecipesForAllIngredients.some(value => value.id == recipe.id)\n            if (!alreadyExists) {\n                const copyAll = [...allRecipesForAllIngredients, recipe]\n                setAllRecipesForAllIngredients(copyAll)\n            }\n        })\n    })\n\n\n    const everyRecipeElemnt = allRecipesForAllIngredients.map((recipe, index) => {\n        return <li key={index}>\n            <Link to={\"/recipes/\" + recipe.id}>{recipe.name}</Link>\n        </li>\n    })\n\n    return (\n        <div className='components'>\n            <div className='recipe_lists'>\n                <div className='individual_recipe_lists'>\n                    <h1 className='recipeListColumn'>Ingredient:</h1>\n                    <p></p>\n                    {showSelected}\n                </div>\n                <div className='individual_recipe_lists'>\n                    <p></p>\n                    <h1 className='recipeListColumn'>All Recipes:</h1>\n                    <p></p>\n                    {everyRecipeElemnt}\n                </div>\n                <div className='individual_recipe_lists'>\n                <h1 className='recipeListColumn'>Recipes containing all selected Ingredients:</h1>\n                    {allRecipes}\n                </div>\n            </div>\n\n\n\n            <button onClick={resetClick}>RESET FILTER</button>\n        </div>\n\n    )\n})\n\n\nexport default SelectedFood"],"mappings":"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"},"metadata":{},"sourceType":"module"}